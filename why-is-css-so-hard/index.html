<!DOCTYPE html>
<html lang="zh-CN">
  <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  <meta name="baidu-site-verification" content="npK5sBy52j" />
  <meta name="author" content="方应杭">
  <meta name="description" content="方应杭的个人网站">
  <meta name="keywords" content="方应杭,前端,饥人谷,前端培训">
  
  <link rel="prev" href="http://fangyinghang.com/let-in-js/" />
  <link rel="next" href="http://fangyinghang.com/prototype-vs-__proto__/" />
  <link rel="canonical" href="http://fangyinghang.com/why-is-css-so-hard/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           CSS 为什么这么难学 | 方应杭的个人网站
       
  </title>
  <meta name="title" content="CSS 为什么这么难学 | 方应杭的个人网站">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
  
 

<script type="application/ld+json">
 "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "http://fangyinghang.com/"
    },
    "articleSection" : "posts",
    "name" : "CSS 为什么这么难学",
    "headline" : "CSS 为什么这么难学",
    "description" : "短答案：因为 CSS 不正交。 长答案： 我先来解释一下什么是正交。 你调过显示器的「亮度」、「色调」和「饱和度」吧。 「亮度」就是明暗程度，值越大，屏幕越",
    "inLanguage" : "zh-CN",
    "author" : "方应杭",
    "creator" : "方应杭",
    "publisher": "方应杭",
    "accountablePerson" : "方应杭",
    "copyrightHolder" : "方应杭",
    "copyrightYear" : "2017",
    "datePublished": "2017-10-05 02:18:49 &#43;0800 CST",
    "dateModified" : "2017-10-05 02:18:49 &#43;0800 CST",
    "url" : "http://fangyinghang.com/why-is-css-so-hard/",
    "wordCount" : "1833",
    "keywords" : [  "方应杭的个人网站"]
}
</script>

</head>

  


  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
          <a href="http://fangyinghang.com/">方应杭的个人网站</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" 
                   
                  href="/search/" title="">
                  搜索
                </a>
                
                <a class="menu-item" 
                   
                  href="/" title="">
                  首页
                </a>
                
                <a class="menu-item" 
                   
                  href="/posts/" title="">
                  文章
                </a>
                
                <a class="menu-item" 
                   
                  href="/contacts/" title="">
                  联系我
                </a>
                
                <a class="menu-item" 
                   
                  href="/wechat-subscribe/" title="">
                  订阅
                </a>
                
                <a class="menu-item" 
                   target="_blank"
                  href="https://www.ximalaya.com/keji/12837765/" title="">
                  电台
                </a>
                
                <a class="menu-item" 
                   
                  href="/index.xml" title="">
                  RSS
                </a>
                
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  
              
              <a href="http://fangyinghang.com/">方应杭的个人网站</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/search/" title="">搜索</a>
                
                <a class="menu-item" href="/" title="">首页</a>
                
                <a class="menu-item" href="/posts/" title="">文章</a>
                
                <a class="menu-item" href="/contacts/" title="">联系我</a>
                
                <a class="menu-item" href="/wechat-subscribe/" title="">订阅</a>
                
                <a class="menu-item" href="https://www.ximalaya.com/keji/12837765/" title="">电台</a>
                
                <a class="menu-item" href="/index.xml" title="">RSS</a>
                
        </div>
    </div>
</nav>

    	 <main class="main">
          <div class="container">
      		
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">CSS 为什么这么难学</h1>
        <div class="post-meta">
                <a itemprop="name" href="http://fangyinghang.com/" rel="author">
                  方应杭</a>
                <span class="post-time">写于
                  <time datetime=2017-10-05 itemprop="datePublished">
                    2017年10月05日
                  </time>
                </span>
                
        </div>
    </header>
    <div class="post-content">
        

        
            
        

        
        
     
          
          
          

          
          
          

          <p>短答案：因为 CSS 不正交。</p>

<p>长答案：</p>

<p>我先来解释一下什么是正交。</p>

<p>你调过显示器的「亮度」、「色调」和「饱和度」吧。</p>

<ul>
<li>「亮度」就是明暗程度，值越大，屏幕越亮。</li>
<li>「色调」就是颜色，你通过调色调，可以把红色调成绿色。</li>
<li>「饱和度」就是鲜艳程度，值越大越鲜艳。</li>
</ul>

<p>「正交」就是，你调节这三者中的一个时，不影响其他两个效果。</p>

<ul>
<li>你调节「亮度」的时候「色调」和「饱和度」不会变化。</li>
<li>你调节「色调」的时候「亮度」和「饱和度」不会变化。</li>
<li>你调节「饱和度」的时候「亮度」和「色调」不会变化。</li>
</ul>

<p>「正交」看起来应该是理所当然的，对吧。</p>

<p>想象一下「不正交」的情况：你调节「亮度」的时候，「色调」和「饱和度」会跟着无规律的变化。如果是这样，你会调得想死，因为你很难调到你想要的效果。</p>

<p>而 CSS，就是「不正交」的。</p>

<p>我以 width 对 margin-left 的影响为例，假设有如下代码：</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="/images/css-hard/1.jpg" alt="" class="lazyload"><figcaption class="image-caption"></figcaption></figure></p>

<p>.parent 里面的 .child 宽度为 300px，现在我给他添加一个 margin-left: -10px，会发现</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="/images/css-hard/2.jpg" alt="" class="lazyload"><figcaption class="image-caption"></figcaption></figure></p>

<blockquote>
<p>整个 .child 左移 10 像素</p>
</blockquote>

<p>好的，于是我们知道 margin-left: -10px 会让元素整体左移。</p>

<p>真的是这样吗？</p>

<p>这个时候把 width 去掉重新做实验，这是在添加 margin-left 之前：</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="/images/css-hard/3.jpg" alt="" class="lazyload"><figcaption class="image-caption"></figcaption></figure></p>

<p>这是在添加 margin-left 之后：</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="/images/css-hard/4.jpg" alt="" class="lazyload"><figcaption class="image-caption"></figcaption></figure></p>

<p>我们发现 margin-left: -10px 并没有让整个元素左移，只是让左边缘左移了，右边缘并没有动。</p>

<p>现在来总结一下：</p>

<ol>
<li>如果指定了 width，那么 margin-left: 10px 会使元素整体左移</li>
<li>如果没有指定 width，那么 margin-left: 10px 只会使做边缘左移（也就是宽度扩大）</li>
</ol>

<p>看到这里，你就会觉得 CSS 特别不正交：</p>

<ol>
<li>为什么 width 的存在与否会影响 margin-left 的作用？</li>
<li>有没有 width 之外的其他属性也会影响 margin-left 的作用？恐怕你无法得知。</li>
</ol>

<p>这就是不正交的恐怖之处，你只有把所有属性与 margin-left 一起用一下，才能得知 margin-left 的真正规律。</p>

<p>这还只是两个属性的影响，你能想象三个属性互相影响的情况吗？</p>

<p>P.S. 有些前端老手已经能「感性」地理解 width: auto 的意义，觉得这不是「不正交」。其实我只是举例说明「你无法只看一个属性就知道这个属性对应的效果，你必须结合另一个属性一起来看」。</p>

<p>我再举第二个例子，大家都知道 position: fixed 是相对于视口（viewport）定位的。</p>

<p>但是这个「真理」会受另一个元素的影响……对，我知道你很震惊……</p>

<p>先看正常情况：</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="/images/css-hard/5.jpg" alt="" class="lazyload"><figcaption class="image-caption"></figcaption></figure></p>

<p>网页右边是一个 iframe，红色的 .fixed 元素相对于 iframe 视口左上角定位，与我们预期一致。</p>

<p>接下来我在 .box 上面加一个 CSS3 中的属性，就会改变你的认知：</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="/images/css-hard/6.jpg" alt="" class="lazyload"><figcaption class="image-caption"></figcaption></figure></p>

<p>父容器加了 transform 之后，fixed 定位的元素居然相对于父容器定位。</p>

<p>天知道以后 CSS 会不会加更多元素来影响我已经认为是真理的事情？</p>

<p>我说一个更实际的问题吧，<strong>你敢在接手一个项目时，在任意一个元素上加 transform 属性吗？</strong></p>

<p>你不敢！除非你把它的每个子元素的属性都检查一遍……确定没有 fixed 定位。</p>

<p>这就是「不正交」的恶心之处。</p>

<p>我再举一个例子，大家都知道给固定宽度的 div 加 margin: 0 auto 可以让它水平居中，很多人就问，那为什么 margin: auto 0（注意 auto 和 0 的位置反过来了）不能做到垂直居中呢？</p>

<p>其实是可以的：</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="/images/css-hard/7.jpg" alt="" class="lazyload"><figcaption class="image-caption"></figcaption></figure></p>

<p>但是必须是在当前元素有 position: absolute; top: 0; bottom:0; 的情况下才能垂直居中。或者与 flex 结合起来用也行。</p>

<p>这就很「不正交」了……</p>

<p>还有一些很常见的例子我就不一一详细列举了：</p>

<ol>
<li>border、padding、overflow、display:table、display:inline-block 会影响 margin</li>
<li>position: absolute 会影响 display 和 float</li>
<li>transform 会影响 z-index</li>
<li>display 会影响 li 前面的小黑点 <a href="https://jsbin.com/tasedikuhu/1/edit?html,css,output" rel="nofollow noreferrer" target="_blank">JS Bin</a></li>
</ol>

<p>关键在于这些例子，要一个一个记，各属性被影响的情况都不一样！</p>

<p>CSS 最不正交的地方就是明明有 BFC，却非要把 BFC 藏起来，然后用 overflow:hidden 和 display: inline-block 等属性来触发 BFC。但用这些属性触发 BFC 总是会有副作用，这就是典型的不正交。</p>

<p>要触发 BFC 就单独发明一个触发 BFC 的属性不就好了。display: flow-root; 不就是在填这个坑嘛？所以你们说 CSS 是正交的，我肯定是不服的。</p>

<p>怎么学习「不正交」的东西？</p>

<p>有一个办法：试。</p>

<p>你试的组合情况越多，就越能了解各种奇怪的现象。</p>

<p>其实不用那么悲观，常用的组合也就几十种吧，都试出来并记下来就行了。</p>

<p>目前我们知道</p>

<ol>
<li>不同属性的组合会有不同的效果；</li>
<li>新的属性会影响你已经学会的知识；</li>
<li>这些规律，毫无逻辑可言，你只能试出来。</li>
</ol>

<p>这，就是 CSS 难学的原因。</p>

<p>以我的经验，越是理性的人，越难理解 CSS；越是感性的人，越容易理解 CSS。</p>

<p>这就是为什么大部分后端程序员能学会 JS，却学不会 CSS——他们太理性了。</p>

<p>你想用学编程的思路来学 CSS？放弃吧！</p>

<p>你需要用学画画的思路来学习 CSS——每天不停地画画，一个鸡蛋用不同的方式画一千遍，就成了。</p>

<p>所以我在课上说过一句话：</p>

<blockquote>
<p>CSS 不是科学，CSS 是艺术。</p>
</blockquote>

<p>不过凡事都有例外，如果你愿意老老实实看完 CSS 规格文档，然后再写 CSS，可能就不觉得有那么多不正交的地方了，但是有多少人有这个能力和精力呢？</p>

<p>为了把 CSS 讲清楚，我推出了这门课程《<a href="https://xiedaimala.com/courses/003b1951-22af-4821-ad80-d2880c0074eb" rel="nofollow noreferrer" target="_blank">CSS 深入浅出</a>》</p>

    </div>

    <div class="post-copyright">
             
            <p class="copyright-item">
                <span>作者</span>
                <span>方应杭 </span>
                </p>
            
           
             
            <p class="copyright-item">
                    <span>链接</span>
                    <a href=http://fangyinghang.com/why-is-css-so-hard/>http://fangyinghang.com/why-is-css-so-hard/</span>
            </p>
            
             
            <p class="copyright-item lincese">
                本文采用<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可
            </p>
            
    </div>

  
    <div class="post-tags">
        
        <section>
                <a href="javascript:window.history.back();">后退</a></span> · 
                <span><a href="http://fangyinghang.com/">回到首页</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="http://fangyinghang.com/let-in-js/" class="prev" rel="prev" title="我用了两个月的时间才理解 let"><i class="iconfont icon-left"></i>&nbsp;我用了两个月的时间才理解 let</a>
         
        
        <a href="http://fangyinghang.com/prototype-vs-__proto__/" class="next" rel="next" title="prototype 和 __proto__ 的区别">prototype 和 __proto__ 的区别&nbsp;<i class="iconfont icon-right"></i></a>
        
    </div>

    <div class="post-comment">
          
                 
          
    </div>
</article>
          </div>
		   </main>
      <footer class="footer">
  <div class="copyright">
    <div>
      &copy;
      
      <span itemprop="copyrightYear">2012 - 2019</span>
      
      <span class="with-love">
        <i class="iconfont icon-love"></i> 
      </span>
      
      <span class="author" itemprop="copyrightHolder"><a href="http://fangyinghang.com/">方应杭</a> </span> 
      

      
      <span>
    </div>
    <div>
      Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow">Hugo</a> & <a href="https://github.com/liuzc/leaveit" target="_blank" rel="external nofollow">LeaveIt</a></span> 
    </div>
  </div>
</footer>












    
     <link href="//lib.baomitu.com/lightgallery/1.6.11/css/lightgallery.min.css" rel="stylesheet">  
      
     <script src="/js/vendor_gallery.min.js" async="" ></script>
    
  




     </div>
  </body>
</html>
